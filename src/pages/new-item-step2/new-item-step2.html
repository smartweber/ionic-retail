<!--
  Generated template for the NewItemstep2Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="rt-blue">
    <ion-title>{{pageTitle}}</ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top color="rt-blue">
    <ion-row justify-content-center>
      <ion-col col-auto>
        <div ion-text color="light" class="buble done">
          1
        </div>
      </ion-col>
      <ion-col col-auto>
        <div ion-text color="light" class="buble done">
          2
        </div>
      </ion-col>
      <ion-col col-auto>
        <div ion-text color="light" class="buble">
          3
        </div>
      </ion-col>
      <ion-col col-auto>
        <div ion-text color="light" class="buble">
          4
        </div>
      </ion-col>
    </ion-row>
  </ion-toolbar>
  <ion-toolbar no-border-top color="rt-blue">
    <ion-title class="sub">Describe your item</ion-title>
  </ion-toolbar>

</ion-header>


<ion-content>
  <ion-item >
    <ion-thumbnail item-start>
      <img *ngIf="prevData.images" [src]="prevData.images[0].url">
    </ion-thumbnail>
    <h2>{{prevData.title}}</h2>
    <p>{{category}}</p>
    <ion-note item-end>
      <!-- {{item.ourPrice|currency:'USD'}} -->
    </ion-note>
  </ion-item>

  <form [formGroup]="step2Form" (ngSubmit)="next(step2Form.value)">

    <ion-list>
      <ion-list-header>
        Listing Price ($)
      </ion-list-header>
      <ion-row>
        <ion-col col-12>
          <ion-item>
            <ion-input [class.form-invalid]="!step2Form.controls.price.valid" placeholder="Price (required)" color="rt-blue-c" formControlName="price"  [type]="platform.is('android') ? 'number':'text'" pattern="[0-9]*" money-input-mask [masker]="{money: true, thousand: '',numeric:true,  decimalCaracter: '.', decimal: '2'}"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-list>

    <ion-list>
      <ion-list-header >
        Item Description
      </ion-list-header>
      <ion-item>
        <ion-textarea autocorrect="on" [class.form-invalid]="!step2Form.controls.description.valid" placeholder="Description (required)" class="textarea" color="rt-blue-c" formControlName="description" type="text"></ion-textarea>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-list-header>
        Shipping Details
      </ion-list-header>
      <ion-item>
        <ion-label>Free Shipping?</ion-label>
        <ion-checkbox (ionChange)="updatedShipping()" color="primary" formControlName="isFreeShipping"></ion-checkbox>
      </ion-item>
      <ion-item *ngIf="!step2Form.controls['isFreeShipping'].value">
        <ion-input [class.form-invalid]="!step2Form.controls.shippingFee.valid"  placeholder= "Shipping Fee (required)" color="rt-blue-c" formControlName="shippingFee"  [type]="platform.is('android') ? 'number':'text'" pattern="[0-9]*"  money-input-mask [masker]="{money: true, thousand: '',numeric:true,  decimalCaracter: '.', decimal: '2'}"></ion-input>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-list-header>
        Quantity
      </ion-list-header>
      <ion-row>
        <ion-col col-12>
          <ion-item>
            <ion-input [class.form-invalid]="!step2Form.controls.stock.valid" placeholder="Quantity (required)" color="rt-blue-c" formControlName="stock"  [type]="platform.is('android') ? 'number':'text'" pattern="[0-9]*"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-list>

    <ion-list>
      <ion-list-header>
        Item Condition
      </ion-list-header>
      <ion-item>
        <ion-select formControlName="condition" (ionChange)="conditionChanged()" [selectOptions]="conditionOpt" placeholder="Condition">
          <ion-option value="New">New</ion-option>
          <ion-option value="Mint">Mint</ion-option>
          <ion-option value="Great">Great</ion-option>
          <ion-option value="Fair">Fair</ion-option>
          <ion-option value="Poor">Poor</ion-option>
          <ion-option value="For Parts, Not Working">For Parts, Not Working</ion-option>
        </ion-select>
      </ion-item>
      <!-- <ion-item *ngIf="step2Form.controls.condition.value != '' && step2Form.controls.condition.value != 'New'">
        <ion-textarea autocorrect="on" class="textarea" color="rt-blue-c" formControlName="conditionDetails" type="text" placeholder="Condition Details"></ion-textarea>
      </ion-item> -->
    </ion-list>

    <ion-list>
      <ion-list-header>
        Returns
      </ion-list-header>
      <ion-item>
        <ion-select formControlName="returns" [selectOptions]="policyOpts" placeholder="Return Period">
          <ion-option value=0>No Returns</ion-option>
          <ion-option value=1>1 Days</ion-option>
          <ion-option value=2>2 Days</ion-option>
          <ion-option value=3>3 Days</ion-option>
          <ion-option value=4>4 Days</ion-option>
          <ion-option value=5>5 Days</ion-option>
          <ion-option value=6>6 Days</ion-option>
          <ion-option value=7>7 Days</ion-option>
          <ion-option value=8>8 Days</ion-option>
          <ion-option value=9>9 Days</ion-option>
          <ion-option value=10>10 Days</ion-option>
          <ion-option value=11>11 Days</ion-option>
          <ion-option value=12>12 Days</ion-option>
          <ion-option value=13>13 Days</ion-option>
          <ion-option value=14>14 Days</ion-option>
        </ion-select>
      </ion-item>
    </ion-list>

    <ion-row justify-content-center>
      <ion-col col-6 text-center>
        <button type="button" (click)="goBack()" round ion-button full>BACK</button>
      </ion-col>
      <ion-col col-6 text-center>
        <button [disabled]="!formValid" type="submit" round ion-button full>NEXT</button>
      </ion-col>
    </ion-row>

  </form>

</ion-content>
